# –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å –≤ —É–º–æ–≤–∞—Ö —Ä–∏–∑–∏–∫—É ‚Äî Dash

–¶–µ–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó **–∫–ª–∞—Å–∏—á–Ω–∏—Ö –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤ –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å –≤ —É–º–æ–≤–∞—Ö —Ä–∏–∑–∏–∫—É**.  
–í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é –≤–∏–≥—Ä–∞—à—ñ–≤, –∑–∞–¥–∞–≤–∞—Ç–∏ –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ —Å—Ç–∞–Ω—ñ–≤ –ø—Ä–∏—Ä–æ–¥–∏ (–≤—Ä—É—á–Ω—É –∞–±–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—Ä–∏–Ω—Ü–∏–ø—É –º–∞–∫—Å–∏–º—É–º—É –µ–Ω—Ç—Ä–æ–ø—ñ—ó –ì—ñ–±–±—Å–∞‚Äì–î–∂–µ–π–Ω—Å–∞), —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è –∑–∞ —Ä—ñ–∑–Ω–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏.

---

## üîπ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó

1. **–ö—Ä–∏—Ç–µ—Ä—ñ–π –ë–µ—Ä–Ω—É–ª–ª—ñ‚Äì–õ–∞–ø–ª–∞—Å–∞ (–º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å–ø–æ–¥—ñ–≤–∞–Ω–Ω—è)**  
   \[
   EV(A_i) = \sum_j p_j a_{ij}, \quad –≤–∏–±—ñ—Ä = \max_i EV(A_i)
   \]  
   –û—Ä—ñ—î–Ω—Ç—É—î—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–µ–¥–Ω—ñ–π –≤–∏–≥—Ä–∞—à –ø—Ä–∏ –∑–∞–¥–∞–Ω–∏—Ö –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—è—Ö.

2. **–ö—Ä–∏—Ç–µ—Ä—ñ–π –ì—É—Ä–≤—ñ—Ü–∞**  
   \[
   H_\alpha(A_i) = \alpha \cdot \max_j a_{ij} + (1-\alpha) \cdot \min_j a_{ij}
   \]  
   –ö–æ–º–ø—Ä–æ–º—ñ—Å –º—ñ–∂ –ø–µ—Å–∏–º—ñ–∑–º–æ–º —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–º–æ–º, –ø–∞—Ä–∞–º–µ—Ç—Ä Œ± ‚àà [0;1].

3. **–ö—Ä–∏—Ç–µ—Ä—ñ–π –•–æ–¥–∂–µ—Å–∞‚Äì–õ–µ–º–∞–Ω–∞**  
   \[
   HL(A_i) = \frac{EV(A_i) + \min_j a_{ij}}{2}
   \]  
   ¬´–û–±–µ—Ä–µ–∂–Ω–∏–π¬ª –∫—Ä–∏—Ç–µ—Ä—ñ–π, —â–æ –≤—Ä–∞—Ö–æ–≤—É—î —ñ —Å–µ—Ä–µ–¥–Ω—î, —ñ –Ω–∞–π–≥—ñ—Ä—à–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π.

4. **–ö—Ä–∏—Ç–µ—Ä—ñ–π –º—ñ–Ω—ñ–º—É–º—É –¥–∏—Å–ø–µ—Ä—Å—ñ—ó**  
   \[
   Var(A_i) = E[X^2] - (E[X])^2, \quad –≤–∏–±—ñ—Ä = \min_i Var(A_i)
   \]  
   –û–±–∏—Ä–∞—î –Ω–∞–π–±—ñ–ª—å—à ¬´—Å—Ç–∞–±—ñ–ª—å–Ω—É¬ª —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—é –≤–∞—Ä—ñ–∞—Ç–∏–≤–Ω—ñ—Å—Ç—é.

5. **–ö—Ä–∏—Ç–µ—Ä—ñ–π EV ‚àí Œ≥¬∑Var (mean‚Äìvariance)**  
   \[
   Score(A_i) = EV(A_i) - \gamma \cdot Var(A_i)
   \]  
   –ö–æ–º–ø—Ä–æ–º—ñ—Å –º—ñ–∂ —Å–µ—Ä–µ–¥–Ω—ñ–º –≤–∏–≥—Ä–∞—à–µ–º —ñ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—é. –ü–∞—Ä–∞–º–µ—Ç—Ä Œ≥ –∑–∞–¥–∞—î ¬´—Å—Ö–∏–ª—å–Ω—ñ—Å—Ç—å –¥–æ —Ä–∏–∑–∏–∫—É¬ª.

6. **–ü—Ä–∏–Ω—Ü–∏–ø –º–∞–∫—Å–∏–º—É–º—É –µ–Ω—Ç—Ä–æ–ø—ñ—ó –ì—ñ–±–±—Å–∞‚Äì–î–∂–µ–π–Ω—Å–∞ (MaxEnt)**  
   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è **–π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç–µ–π —Å—Ç–∞–Ω—ñ–≤ –ø—Ä–∏—Ä–æ–¥–∏**, –∫–æ–ª–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –Ω–µ–ø–æ–≤–Ω–∞, –∞–ª–µ –≤—ñ–¥–æ–º–µ –¥–µ—è–∫–µ –æ–±–º–µ–∂–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è).  
   –†–æ–∑–ø–æ–¥—ñ–ª —à—É–∫–∞—î—Ç—å—Å—è —è–∫:  
   \[
   p_j \propto \exp(\lambda \cdot m_j)
   \]  
   –¥–µ \(m_j\) ‚Äî —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ —Å—Ç–∞–Ω—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–æ–≤–ø—Ü–µ–≤—ñ —Å–µ—Ä–µ–¥–Ω—ñ), –∞ Œª –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –∑ —É–º–æ–≤–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω–Ω—è.

---

## üîπ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É

- **–£—Ç–∏–ª—ñ—Ç–∏**:
  - `normalize_probs` ‚Äî –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –≤–µ–∫—Ç–æ—Ä–∞ –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç–µ–π.
  - `rows_to_df` ‚Äî –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ —Ç–∞–±–ª–∏—Ü—ñ –≤ DataFrame.
  - `safe_float` ‚Äî –±–µ–∑–ø–µ—á–Ω–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è –¥–æ float.

- **–ö—Ä–∏—Ç–µ—Ä—ñ—ó**:
  - `bernoulli_laplace` ‚Äî –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–µ —Å–ø–æ–¥—ñ–≤–∞–Ω–Ω—è.
  - `hurwicz` ‚Äî –ì—É—Ä–≤—ñ—Ü —ñ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º Œ±.
  - `hodges_lehmann` ‚Äî —Å–µ—Ä–µ–¥–Ω—î EV —Ç–∞ –º—ñ–Ω—ñ–º—É–º—É.
  - `min_variance` ‚Äî –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—è –¥–∏—Å–ø–µ—Ä—Å—ñ—ó.
  - `mean_variance` ‚Äî EV‚àíŒ≥¬∑Var.
  - `maxent_probs` ‚Äî –ø–æ—à—É–∫ —Ä–æ–∑–ø–æ–¥—ñ–ª—É –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç–µ–π –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º –º–∞–∫—Å–∏–º—É–º—É –µ–Ω—Ç—Ä–æ–ø—ñ—ó.

- **Dash layout**:
  - –¢–∞–±–ª–∏—Ü—è –≤–∏–≥—Ä–∞—à—ñ–≤ (`payoff-table`).
  - –¢–∞–±–ª–∏—Ü—è –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç–µ–π (`prob-table`).
  - –í–∏–±—ñ—Ä —Ä–µ–∂–∏–º—É: —Ä—É—á–Ω—ñ –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ / MaxEnt.
  - –°–ª–∞–π–¥–µ—Ä–∏ –¥–ª—è Œ± (–ì—É—Ä–≤—ñ—Ü) —ñ Œ≥ (mean‚Äìvariance).
  - –ì—Ä–∞—Ñ—ñ–∫–∏:
    - –¢–µ–ø–ª–æ–∫–∞—Ä—Ç–∞ –º–∞—Ç—Ä–∏—Ü—ñ –≤–∏–≥—Ä–∞—à—ñ–≤.
    - –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤ (—Å—Ç–æ–≤–ø—á–∏–∫–∏).
    - –ß—É—Ç–ª–∏–≤—ñ—Å—Ç—å –∫—Ä–∏—Ç–µ—Ä—ñ—é –ì—É—Ä–≤—ñ—Ü–∞ –¥–æ Œ±.

- **Callbacks**:
  - `modify_table` ‚Äî –¥–æ–¥–∞—î —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó/—Å—Ç–∞–Ω–∏, —Å–∫–∏–¥–∞—î –ø—Ä–∏–∫–ª–∞–¥.
  - `export_csv` ‚Äî –µ–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö —É CSV.
  - `update_graphs` ‚Äî –ø–µ—Ä–µ—Ä–∞—Ö—É–Ω–æ–∫ –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤, MaxEnt, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ —ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.

---

## üîπ –û—Å–Ω–æ–≤–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É

**–ú–∞—Ç—Ä–∏—Ü—è –≤–∏–≥—Ä–∞—à—ñ–≤:**
|        | S1 | S2 | S3 |
|--------|----|----|----|
| **A1** |  8 |  6 |  4 |
| **A2** |  2 | 10 |  1 |
| **A3** |  5 |  7 |  3 |

**–ô–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ —Å—Ç–∞–Ω—ñ–≤:**
\[
p = (0.3, 0.5, 0.2)
\]

**–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥–ª—è –ø—Ä–∏–∫–ª–∞–¥—É:**
- **–ë–µ—Ä–Ω—É–ª–ª—ñ‚Äì–õ–∞–ø–ª–∞—Å:**  
  EV(A1)=6.0, EV(A2)=5.1, EV(A3)=5.6 ‚Üí –∫—Ä–∞—â–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è **A1**.
- **–ì—É—Ä–≤—ñ—Ü (Œ±=0.6):**  
  H(A1)=0.6¬∑8+0.4¬∑4=6.4  
  H(A2)=0.6¬∑10+0.4¬∑1=6.4  
  H(A3)=0.6¬∑7+0.4¬∑3=5.4 ‚Üí –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ **A1 —ñ A2**.
- **–•–æ–¥–∂–µ—Å‚Äì–õ–µ–º–∞–Ω:**  
  HL(A1)=(6.0+4)/2=5.0  
  HL(A2)=(5.1+1)/2=3.05  
  HL(A3)=(5.6+3)/2=4.3 ‚Üí –∫—Ä–∞—â–∞ **A1**.
- **–ú—ñ–Ω—ñ–º—É–º –¥–∏—Å–ø–µ—Ä—Å—ñ—ó:**  
  Var(A1)=2.8, Var(A2)=13.69, Var(A3)=2.24 ‚Üí –∫—Ä–∞—â–∞ **A3**.
- **EV‚àíŒ≥¬∑Var (Œ≥=0.1):**  
  Score(A1)=6.0‚àí0.1¬∑2.8=5.72  
  Score(A2)=5.1‚àí0.1¬∑13.69=3.73  
  Score(A3)=5.6‚àí0.1¬∑2.24=5.38 ‚Üí –∫—Ä–∞—â–∞ **A1**.
- **MaxEnt:**  
  –Ø–∫—â–æ –≤—ñ–¥–æ–º–µ —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ —Å—Ç–æ–≤–ø—Ü–µ–≤–∏—Ö —Å–µ—Ä–µ–¥–Ω—ñ—Ö M=6, —Ä–æ–∑–ø–æ–¥—ñ–ª p –æ—Ü—ñ–Ω—é—î—Ç—å—Å—è —è–∫ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ ¬´–Ω–µ–≤–ø–µ—Ä–µ–¥–∂–µ–Ω–∏–π¬ª —ñ –º–æ–∂–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è –≤—ñ–¥ (0.3, 0.5, 0.2), –∞–ª–µ –∑–∞–ª–∏—à–∏—Ç—å—Å—è —É –¥–æ–ø—É—Å—Ç–∏–º–æ–º—É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ [min, max].

---

## üîπ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏

```bash
python -m venv .venv
# Windows:
.venv\Scripts\activate
# Linux/macOS:
source .venv/bin/activate
pip install -r requirements.txt
python app.py
